# show git branch
export GITAWAREPROMPT=~/dotfiles/git-aware-prompt
source "${GITAWAREPROMPT}/main.sh"
export PS1="\u \W \[$txtcyn\]\$git_branch\[$txtred\]\$git_dirty\[$txtrst\]\$ "

# $EDITOR
export VISUAL="vim"
export EDITOR="atom --wait"

source ~/dotfiles/bash-profile/.git-completion.bash
__git_complete go _git_checkout
__git_complete gm _git_merge
__git_complete gb _git_branch

# git aliases
alias gm="git merge"
alias push="git push"
alias pull="git pull"
alias gs="git status"
alias gb="git branch"
alias go="git checkout"
alias gc="git commit -m"
alias stash="git stash"
alias pop="git stash pop"
alias goma="git checkout master"

# npm aliases
alias nr="npm run"
alias npmi="npm install"
alias publish="npm publish"

# aliases for github packages
alias gd="git-diff-glob --pager"
alias gall="git-commit-all"
alias gl="git-log --pager"
alias goof="git-checkout-file"
alias ga="git-add-file"

# other
alias tovim="xargs -o vim -p"
alias desktop="cd ~/Desktop"

function gitboy() {
	check_if_git_repo=$(git rev-parse --is-inside-work-tree)

	if [ $? != 0 ]; then
		printf "$check_if_git_repo"
		return 1;
	fi

	modified_files=`git diff --name-only --relative --diff-filter M`
	pipe-boy "$modified_files" --banner.text GitBoy --banner.font reverse --banner.horizontalLayout "controlled smushing"
}
